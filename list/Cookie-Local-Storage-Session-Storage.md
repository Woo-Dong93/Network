# Cookie, Local Storage, Session Storage

## 1. Cookie

- 서버가 사용자의 **웹 브라우저에 전송하는 작은 데이터 조각**으로 브라우저는 그 데이터 조각들을 저장해 놓았다가, 동일한 **서버에 재 요청 시 저장된 데이터를 함께 전송**한다.
- 가장 기본적인 웹 저장소로 저장 용량이 로컬 스토리지보다 작다. (약 4 KB)
  - 서버 요청을 할 때마다 자동으로 같이 실려서 따라가기 때문에 크기가 크다면 문제가 될 수 있을 것이다.
- 로컬 스토리지와 다르게 데이터 **유효 기간을 지정**할 수 있다.
- 용도 : 세션 관리, 개인화, 트래킹



## 1.5 Web Storage API

- Cookie 를 사용하는 것보다 훨씬 직관적으로 **Key - Value 데이터**를 (안전하게) 저장할 수 있는 메커니즘을 제공
- Local Storage, Session Storage 가 있다. 둘 다 정말 단순하고 사용하기 쉬운 **Key - Value 저장소**로 Key와 Value는 **String 타입**만 지원
- Local Storage 와 Session Storage 의 큰 차이점은 **데이터의 영구성**이다.
- 이 Web Storage API 와 Cookie 의 차이점은 서버로 **자동 전송 여부**와 **용량 차이** 정도를 얘기할 수 있겠다.



## 2. Local Storage

- **저장 공간**이 셋 중에는 **제일 크다.** (약 5 ~ 10 MB)
- **유효 기간 없이** 데이터를 저장하고, 명시적으로 지워야 한다. (clear, removeItem)
- 브라우저가 닫히거나 다시 열리더라도 **데이터 유지**된다.
- 도메인 별로 생성되며, 다른 탭이라도 **동일한 도메인**이라면 **데이터가 공유**된다.
- "사생활 보호 모드" 중 생성한 Local Storage 데이터는 마지막 "사생활 보호" 탭이 닫힐 때 지워진다.
- 저장한 데이터는 페이지 프로토콜 별로 구분한다. HTTP (http://example.com) 로 방문한 페이지에서 저장한 데이터는 같은 페이지의 HTTPS (https://example.com) 와는 다른 Local Storage 에 저장된다.
- 용도 : **자동 로그인**



## 3. Session Storage

- 각각의 Origin 에 대해 **독립적인 저장 공간**을 **페이지 세션이 유지되는 동안** (브라우저가 열려있는 동안) **제공**한다.
- 데이터의 만료 기간이 없는 Local Storage 와 다르게 **브라우저** 또는 **탭이 닫힐 때까지만 데이터를 저장**한다. (브라우저 종료 또는 탭 닫으면 데이터 날아감)
- 같은 탭에서 **새로고침 시**에는 **데이터가 그대로 유지**된다.
- 같은 URL을 다수의 탭/창 에서 열면 **각각의 탭/창에 대해 새로운 Session Storage 를 생성**한다.
- **저장 공간**이 **쿠키보다 크다** (최대 5 MB)
- 저장한 데이터는 페이지 프로토콜 별로 구분한다. HTTP (http://example.com) 로 방문한 페이지에서 저장한 데이터는 같은 페이지의 HTTPS (https://example.com) 와는 다른 Session Storage 에 저장된다.
- 용도 : **일회성 로그인**